// utils/cisternCalibration.js

// Complete calibration data for different cistern sizes
// Based on your examples, I'll create more points with consistent patterns

const cisternCalibration = {
  // 8000 gal cistern (standard: 8000, max: 8307)
  8000: [
  { depth: 0.000, gallons: 0 },
  { depth: 0.125, gallons: 3 },
  { depth: 0.250, gallons: 5 },
  { depth: 0.375, gallons: 7 },
  { depth: 0.500, gallons: 10 },
  { depth: 0.625, gallons: 12 },
  { depth: 0.750, gallons: 15 },
  { depth: 0.875, gallons: 18 },
  { depth: 1.000, gallons: 21 },
  { depth: 1.125, gallons: 24 },
  { depth: 1.250, gallons: 27 },
  { depth: 1.375, gallons: 31 },
  { depth: 1.500, gallons: 34 },
  { depth: 1.625, gallons: 38 },
  { depth: 1.750, gallons: 42 },
  { depth: 1.875, gallons: 46 },
  { depth: 2.000, gallons: 50 },
  { depth: 2.125, gallons: 54 },
  { depth: 2.250, gallons: 59 },
  { depth: 2.375, gallons: 63 },
  { depth: 2.500, gallons: 67 },
  { depth: 2.625, gallons: 72 },
  { depth: 2.750, gallons: 77 },
  { depth: 2.875, gallons: 81 },
  { depth: 3.000, gallons: 87 },
  { depth: 3.125, gallons: 92 },
  { depth: 3.250, gallons: 97 },
  { depth: 3.375, gallons: 102 },
  { depth: 3.500, gallons: 107 },
  { depth: 3.625, gallons: 113 },
  { depth: 3.750, gallons: 118 },
  { depth: 3.875, gallons: 123 },
  { depth: 4.000, gallons: 129 },
  { depth: 4.125, gallons: 135 },
  { depth: 4.250, gallons: 141 },
  { depth: 4.375, gallons: 146 },
  { depth: 4.500, gallons: 152 },
  { depth: 4.625, gallons: 158 },
  { depth: 4.750, gallons: 161 },
  { depth: 4.875, gallons: 170 },
  { depth: 5.000, gallons: 177 },
  { depth: 5.125, gallons: 183 },
  { depth: 5.250, gallons: 189 },
  { depth: 5.375, gallons: 196 },
  { depth: 5.500, gallons: 202 },
  { depth: 5.625, gallons: 209 },
  { depth: 5.750, gallons: 215 },
  { depth: 5.875, gallons: 222 },
  { depth: 6.000, gallons: 229 },
  { depth: 6.125, gallons: 236 },
  { depth: 6.250, gallons: 242 },
  { depth: 6.375, gallons: 249 },
  { depth: 6.500, gallons: 256 },
  { depth: 6.625, gallons: 263 },
  { depth: 6.750, gallons: 270 },
  { depth: 6.875, gallons: 278 },
  { depth: 7.000, gallons: 285 },
  { depth: 7.125, gallons: 292 },
  { depth: 7.250, gallons: 299 },
  { depth: 7.375, gallons: 307 },
  { depth: 7.500, gallons: 314 },
  { depth: 7.625, gallons: 322 },
  { depth: 7.750, gallons: 329 },
  { depth: 7.875, gallons: 337 },
  { depth: 8.000, gallons: 344 },
  { depth: 8.125, gallons: 352 },
  { depth: 8.250, gallons: 360 },
  { depth: 8.375, gallons: 368 },
  { depth: 8.500, gallons: 376 },
  { depth: 8.625, gallons: 383 },
  { depth: 8.750, gallons: 391 },
  { depth: 8.875, gallons: 399 },
  { depth: 9.000, gallons: 408 },
  { depth: 9.125, gallons: 416 },
  { depth: 9.250, gallons: 424 },
  { depth: 9.375, gallons: 432 },
  { depth: 9.500, gallons: 441 },
  { depth: 9.625, gallons: 449 },
  { depth: 9.750, gallons: 457 },
  { depth: 9.875, gallons: 466 },
  { depth: 10.000, gallons: 474 },
  { depth: 10.125, gallons: 483 },
  { depth: 10.250, gallons: 491 },
  { depth: 10.375, gallons: 500 },
  { depth: 10.500, gallons: 508 },
  { depth: 10.625, gallons: 517 },
  { depth: 10.750, gallons: 526 },
  { depth: 10.875, gallons: 535 },
  { depth: 11.000, gallons: 543 },
  { depth: 11.125, gallons: 552 },
  { depth: 11.250, gallons: 561 },
  { depth: 11.375, gallons: 570 },
  { depth: 11.500, gallons: 579 },
  { depth: 11.625, gallons: 588 },
  { depth: 11.750, gallons: 597 },
  { depth: 11.875, gallons: 606 },
  { depth: 12.000, gallons: 615 },
  { depth: 12.125, gallons: 624 },
  { depth: 12.250, gallons: 633 },
  { depth: 12.375, gallons: 643 },
  { depth: 12.500, gallons: 652 },
  { depth: 12.625, gallons: 661 },
  { depth: 12.750, gallons: 671 },
  { depth: 12.875, gallons: 680 },
  { depth: 13.000, gallons: 690 },
  { depth: 13.125, gallons: 699 },
  { depth: 13.250, gallons: 709 },
  { depth: 13.375, gallons: 718 },
  { depth: 13.500, gallons: 728 },
  { depth: 13.625, gallons: 738 },
  { depth: 13.750, gallons: 747 },
  { depth: 13.875, gallons: 757 },
  { depth: 14.000, gallons: 767 },
  { depth: 14.125, gallons: 776 },
  { depth: 14.250, gallons: 786 },
  { depth: 14.375, gallons: 796 },
  { depth: 14.500, gallons: 806 },
  { depth: 14.625, gallons: 816 },
  { depth: 14.750, gallons: 826 },
  { depth: 14.875, gallons: 836 },
  { depth: 15.000, gallons: 846 },
  { depth: 15.125, gallons: 856 },
  { depth: 15.250, gallons: 866 },
  { depth: 15.375, gallons: 875 },
  { depth: 15.500, gallons: 886 },
  { depth: 15.625, gallons: 896 },
  { depth: 15.750, gallons: 907 },
  { depth: 15.875, gallons: 917 },
  { depth: 16.000, gallons: 927 },
  { depth: 16.125, gallons: 937 },
  { depth: 16.250, gallons: 948 },
  { depth: 16.375, gallons: 958 },
  { depth: 16.500, gallons: 969 },
  { depth: 16.625, gallons: 979 },
  { depth: 16.750, gallons: 989 },
  { depth: 16.875, gallons: 1000 },
  { depth: 17.000, gallons: 1010 },
  { depth: 17.125, gallons: 1021 },
  { depth: 17.250, gallons: 1032 },
  { depth: 17.375, gallons: 1042 },
  { depth: 17.500, gallons: 1053 },
  { depth: 17.625, gallons: 1064 },
  { depth: 17.750, gallons: 1074 },
  { depth: 17.875, gallons: 1085 },
  { depth: 18.000, gallons: 1096 },
{ depth: 18.125, gallons: 1106 },
{ depth: 18.250, gallons: 1117 },
{ depth: 18.375, gallons: 1128 },
{ depth: 18.500, gallons: 1139 },
{ depth: 18.625, gallons: 1150 },
{ depth: 18.750, gallons: 1161 },
{ depth: 18.875, gallons: 1172 },
{ depth: 19.000, gallons: 1183 },
{ depth: 19.125, gallons: 1194 },
{ depth: 19.250, gallons: 1205 },
{ depth: 19.375, gallons: 1216 },
{ depth: 19.500, gallons: 1227 },
{ depth: 19.625, gallons: 1238 },
{ depth: 19.750, gallons: 1249 },
{ depth: 19.875, gallons: 1260 },
{ depth: 20.000, gallons: 1271 },
{ depth: 20.125, gallons: 1283 },
{ depth: 20.250, gallons: 1294 }, // Assuming "1,29" was meant to be 1294
{ depth: 20.375, gallons: 1305 },
{ depth: 20.500, gallons: 1316 },
{ depth: 20.625, gallons: 1328 },
{ depth: 20.750, gallons: 1339 },
{ depth: 20.875, gallons: 1350 },
{ depth: 21.000, gallons: 1362 },
{ depth: 21.125, gallons: 1373 }, // +11
{ depth: 21.250, gallons: 1385 }, // +12
{ depth: 21.375, gallons: 1396 }, // +11 (not 1390)
{ depth: 21.500, gallons: 1408 }, // +12
{ depth: 21.625, gallons: 1419 }, // +11
{ depth: 21.750, gallons: 1431 }, // +12
{ depth: 21.875, gallons: 1442 }, // +11
{ depth: 22.000, gallons: 1454 }, // +12
{ depth: 22.125, gallons: 1465 }, // +11
{ depth: 22.250, gallons: 1471 }, 
{ depth: 22.625, gallons: 1512 },
{ depth: 22.750, gallons: 1524 },
{ depth: 22.875, gallons: 1533 },
{ depth: 23.000, gallons: 1547 },
{ depth: 23.125, gallons: 1559 },
{ depth: 23.250, gallons: 1571 },
{ depth: 23.375, gallons: 1583 },
{ depth: 23.500, gallons: 1594 },
{ depth: 23.625, gallons: 1606 },
{ depth: 23.750, gallons: 1618 },
{ depth: 23.875, gallons: 1630 },
{ depth: 24.000, gallons: 1642 },
{ depth: 24.125, gallons: 1654 },
{ depth: 24.250, gallons: 1666 },
{ depth: 24.375, gallons: 1678 },
{ depth: 24.500, gallons: 1690 },
{ depth: 24.625, gallons: 1702 },
{ depth: 24.750, gallons: 1714 },
{ depth: 24.875, gallons: 1726 },
{ depth: 25.000, gallons: 1738 },
{ depth: 25.125, gallons: 1750 },
{ depth: 25.250, gallons: 1762 },
{ depth: 25.375, gallons: 1774 },
{ depth: 25.500, gallons: 1786 },
{ depth: 25.625, gallons: 1799 },
{ depth: 25.750, gallons: 1811 },
{ depth: 25.875, gallons: 1823 },
{ depth: 26.000, gallons: 1835 },
{ depth: 26.125, gallons: 1847 },
{ depth: 26.250, gallons: 1860 },
{ depth: 26.375, gallons: 1872 },
{ depth: 26.500, gallons: 1884 },
{ depth: 26.625, gallons: 1897 },
{ depth: 26.750, gallons: 1909 },
{ depth: 26.875, gallons: 1921 },
{ depth: 27.000, gallons: 1934 },
{ depth: 27.125, gallons: 1946 },
{ depth: 27.250, gallons: 1958 },
{ depth: 27.375, gallons: 1971 },
{ depth: 27.500, gallons: 1983 },
{ depth: 27.625, gallons: 1996 },
{ depth: 27.750, gallons: 2008 },
{ depth: 27.875, gallons: 2021 },
{ depth: 28.000, gallons: 2033 },
{ depth: 28.125, gallons: 2046 },
{ depth: 28.250, gallons: 2058 },
{ depth: 28.375, gallons: 2071 },
{ depth: 28.500, gallons: 2083 },
{ depth: 28.625, gallons: 2096 },
{ depth: 28.750, gallons: 2109 },
{ depth: 28.875, gallons: 2121 },
{ depth: 29.000, gallons: 2134 },
{ depth: 29.125, gallons: 2146 },
{ depth: 29.250, gallons: 2159 },
{ depth: 29.375, gallons: 2172 },
{ depth: 29.500, gallons: 2184 },
{ depth: 29.625, gallons: 2197 },
{ depth: 29.750, gallons: 2210 },
{ depth: 29.875, gallons: 2223 },
{ depth: 30.000, gallons: 2235 },
{ depth: 30.125, gallons: 2248 },
{ depth: 30.250, gallons: 2261 },
{ depth: 30.375, gallons: 2274 },
{ depth: 30.500, gallons: 2286 },
{ depth: 30.625, gallons: 2299 },
{ depth: 30.750, gallons: 2312 },
{ depth: 30.875, gallons: 2325 },
{ depth: 31.000, gallons: 2338 },
{ depth: 31.125, gallons: 2351 },
{ depth: 31.250, gallons: 2364 },
{ depth: 31.375, gallons: 2377 },
{ depth: 31.500, gallons: 2390 },
{ depth: 31.625, gallons: 2402 },
{ depth: 31.750, gallons: 2415 },
{ depth: 31.875, gallons: 2428 },
{ depth: 32.000, gallons: 2441 },
{ depth: 32.125, gallons: 2454 },
{ depth: 32.250, gallons: 2467 },
{ depth: 32.375, gallons: 2480 },
{ depth: 32.500, gallons: 2493 },
{ depth: 32.625, gallons: 2506 },
{ depth: 32.750, gallons: 2519 },
{ depth: 32.875, gallons: 2532 },
{ depth: 33.000, gallons: 2545 },
{ depth: 33.125, gallons: 2558 },
{ depth: 33.250, gallons: 2571 },
{ depth: 33.375, gallons: 2585 },
{ depth: 33.500, gallons: 2598 },
{ depth: 33.625, gallons: 2611 },
{ depth: 33.750, gallons: 2624 },
{ depth: 33.875, gallons: 2637 },
{ depth: 34.000, gallons: 2650 },
{ depth: 34.125, gallons: 2663 },
{ depth: 34.250, gallons: 2676 },
{ depth: 34.375, gallons: 2690 },
{ depth: 34.500, gallons: 2703 },
{ depth: 34.625, gallons: 2716 },
{ depth: 34.750, gallons: 2729 },
{ depth: 34.875, gallons: 2742 },
{ depth: 35.000, gallons: 2756 },
{ depth: 35.125, gallons: 2769 },
{ depth: 35.250, gallons: 2782 },
{ depth: 35.375, gallons: 2795 },
{ depth: 35.500, gallons: 2808 },
{ depth: 35.625, gallons: 2822 },
{ depth: 35.750, gallons: 2835 },
{ depth: 35.875, gallons: 2848 },
{ depth: 36.000, gallons: 2861 },
{ depth: 36.125, gallons: 2875 },
{ depth: 36.250, gallons: 2889 },
{ depth: 36.375, gallons: 2902 },
{ depth: 36.500, gallons: 2915 },
{ depth: 36.625, gallons: 2929 },
{ depth: 36.750, gallons: 2942 },
{ depth: 36.875, gallons: 2955 },
{ depth: 37.000, gallons: 2969 },
{ depth: 37.125, gallons: 2982 },
{ depth: 37.250, gallons: 2995 },
{ depth: 37.375, gallons: 3009 },
{ depth: 37.500, gallons: 3022 },
{ depth: 37.625, gallons: 3036 },
{ depth: 37.750, gallons: 3049 },
{ depth: 37.875, gallons: 3063 },
{ depth: 38.000, gallons: 3076 },
{ depth: 38.125, gallons: 3089 },
{ depth: 38.250, gallons: 3103 },
{ depth: 38.375, gallons: 3116 },
{ depth: 38.500, gallons: 3130 },
{ depth: 38.625, gallons: 3143 },
{ depth: 38.750, gallons: 3157 },
{ depth: 38.875, gallons: 3170 },
{ depth: 39.000, gallons: 3184 },
{ depth: 39.125, gallons: 3197 },
{ depth: 39.250, gallons: 3211 },
{ depth: 39.375, gallons: 3221 },
{ depth: 39.500, gallons: 3238 },
{ depth: 39.625, gallons: 3251 },
{ depth: 39.750, gallons: 3265 },
{ depth: 39.875, gallons: 3278 },
{ depth: 40.000, gallons: 3292 },
{ depth: 40.125, gallons: 3306 },
{ depth: 40.250, gallons: 3319 },
{ depth: 40.375, gallons: 3333 },
{ depth: 40.500, gallons: 3346 },
{ depth: 40.625, gallons: 3360 },
{ depth: 40.750, gallons: 3373 },
{ depth: 40.875, gallons: 3387 },
{ depth: 41.000, gallons: 3401 },
{ depth: 41.125, gallons: 3414 },
{ depth: 41.250, gallons: 3428 },
{ depth: 41.375, gallons: 3441 },
{ depth: 41.500, gallons: 3455 },
{ depth: 41.625, gallons: 3469 },
{ depth: 41.750, gallons: 3482 },
{ depth: 41.875, gallons: 3496 },
{ depth: 42.000, gallons: 3509 },
{ depth: 42.125, gallons: 3523 },
{ depth: 42.250, gallons: 3537 },
{ depth: 42.375, gallons: 3550 },
{ depth: 42.500, gallons: 3564 },
{ depth: 42.625, gallons: 3578 },
{ depth: 42.750, gallons: 3591 },
{ depth: 42.875, gallons: 3605 },
{ depth: 43.000, gallons: 3619 },
{ depth: 43.125, gallons: 3632 },
{ depth: 43.250, gallons: 3646 },
{ depth: 43.375, gallons: 3660 },
{ depth: 43.500, gallons: 3673 },
{ depth: 43.625, gallons: 3687 },
{ depth: 43.750, gallons: 3701 },
{ depth: 43.875, gallons: 3714 },
{ depth: 44.000, gallons: 3728 },
{ depth: 44.125, gallons: 3742 },
{ depth: 44.250, gallons: 3756 },
{ depth: 44.375, gallons: 3769 },
{ depth: 44.500, gallons: 3783 },
{ depth: 44.625, gallons: 3797 },
{ depth: 44.750, gallons: 3810 },
{ depth: 44.875, gallons: 3824 },
{ depth: 45.000, gallons: 3838 },
{ depth: 45.125, gallons: 3851 },
{ depth: 45.250, gallons: 3865 },
{ depth: 45.375, gallons: 3879 },
{ depth: 45.500, gallons: 3893 },
{ depth: 45.625, gallons: 3906 },
{ depth: 45.750, gallons: 3920 },
{ depth: 45.875, gallons: 3934 },
{ depth: 46.000, gallons: 3947 },
{ depth: 46.125, gallons: 3961 },
{ depth: 46.250, gallons: 3975 },
{ depth: 46.375, gallons: 3989 },
{ depth: 46.500, gallons: 4002 },
{ depth: 46.625, gallons: 4016 },
{ depth: 46.750, gallons: 4030 },
{ depth: 46.875, gallons: 4044 },
{ depth: 47.000, gallons: 4057 },
{ depth: 47.125, gallons: 4071 },
{ depth: 47.250, gallons: 4085 },
{ depth: 47.375, gallons: 4099 },
{ depth: 47.500, gallons: 4112 },
{ depth: 47.625, gallons: 4126 },
{ depth: 47.750, gallons: 4140 },
{ depth: 47.875, gallons: 4153 },
{ depth: 48.000, gallons: 4167 },
{ depth: 48.125, gallons: 4181 },
{ depth: 48.250, gallons: 4195 },
{ depth: 48.375, gallons: 4208 },
{ depth: 48.500, gallons: 4222 },
{ depth: 48.625, gallons: 4236 },
{ depth: 48.750, gallons: 4250 },
{ depth: 48.875, gallons: 4263 },
{ depth: 49.000, gallons: 4277 },
{ depth: 49.125, gallons: 4291 },
{ depth: 49.250, gallons: 4305 },
{ depth: 49.375, gallons: 4318 },
{ depth: 49.500, gallons: 4332 },
{ depth: 49.625, gallons: 4346 },
{ depth: 49.750, gallons: 4359 },
{ depth: 49.875, gallons: 4373 },
{ depth: 50.000, gallons: 4387 },
{ depth: 50.125, gallons: 4401 },
{ depth: 50.250, gallons: 4414 },
{ depth: 50.375, gallons: 4428 },
{ depth: 50.500, gallons: 4442 },
{ depth: 50.625, gallons: 4456 },
{ depth: 50.750, gallons: 4469 },
{ depth: 50.875, gallons: 4483 },
{ depth: 51.000, gallons: 4497 },
{ depth: 51.125, gallons: 4510 },
{ depth: 51.250, gallons: 4524 },
{ depth: 51.375, gallons: 4538 },
{ depth: 51.500, gallons: 4551 },
{ depth: 51.625, gallons: 4565 },
{ depth: 51.750, gallons: 4579 },
{ depth: 51.875, gallons: 4593 },
{ depth: 52.000, gallons: 4606 },
{ depth: 52.125, gallons: 4620 },
{ depth: 52.250, gallons: 4634 },
{ depth: 52.375, gallons: 4647 },
{ depth: 52.500, gallons: 4661 },
{ depth: 52.625, gallons: 4675 },
{ depth: 52.750, gallons: 4688 },
{ depth: 52.875, gallons: 4702 },
{ depth: 53.000, gallons: 4716 },
{ depth: 53.125, gallons: 4729 },
{ depth: 53.250, gallons: 4743 },
{ depth: 53.375, gallons: 4757 },
{ depth: 53.500, gallons: 4770 },
{ depth: 53.625, gallons: 4784 },
{ depth: 53.750, gallons: 4797 },
{ depth: 53.875, gallons: 4811 },
{ depth: 54.000, gallons: 4825 },
{ depth: 54.125, gallons: 4838 },
{ depth: 54.250, gallons: 4852 },
{ depth: 54.375, gallons: 4866 },
{ depth: 54.500, gallons: 4879 },
{ depth: 54.625, gallons: 4893 },
{ depth: 54.750, gallons: 4906 },
{ depth: 54.875, gallons: 4920 },
{ depth: 55.000, gallons: 4934 },
{ depth: 55.125, gallons: 4947 },
{ depth: 55.250, gallons: 4961 },
{ depth: 55.375, gallons: 4974 },
{ depth: 55.500, gallons: 4988 },
{ depth: 55.625, gallons: 5001 },
{ depth: 55.750, gallons: 5015 },
{ depth: 55.875, gallons: 5029 },
{ depth: 56.000, gallons: 5042 },
{ depth: 56.125, gallons: 5056 },
{ depth: 56.250, gallons: 5069 },
{ depth: 56.375, gallons: 5083 },
{ depth: 56.500, gallons: 5096 },
{ depth: 56.625, gallons: 5110 },
{ depth: 56.750, gallons: 5123 },
{ depth: 56.875, gallons: 5137 },
{ depth: 57.000, gallons: 5150 },
{ depth: 57.125, gallons: 5164 },
{ depth: 57.250, gallons: 5177 },
{ depth: 57.375, gallons: 5191 },
{ depth: 57.500, gallons: 5204 },
{ depth: 57.625, gallons: 5218 },
{ depth: 57.750, gallons: 5231 },
{ depth: 57.875, gallons: 5244 },
{ depth: 58.000, gallons: 5258 },
{ depth: 58.125, gallons: 5271 },
{ depth: 58.250, gallons: 5283 },
{ depth: 58.375, gallons: 5298 },
{ depth: 58.500, gallons: 5311 },
{ depth: 58.625, gallons: 5325 },
{ depth: 58.750, gallons: 5338 },
{ depth: 58.875, gallons: 5352 },
{ depth: 59.000, gallons: 5365 },
{ depth: 59.125, gallons: 5378 },
{ depth: 59.250, gallons: 5392 },
{ depth: 59.375, gallons: 5405 },
{ depth: 59.500, gallons: 5418 },
{ depth: 59.625, gallons: 5432 },
{ depth: 59.750, gallons: 5445 },
{ depth: 59.875, gallons: 5458 },
{ depth: 60.000, gallons: 5472 },
{ depth: 60.125, gallons: 5485 },
{ depth: 60.250, gallons: 5498 },
{ depth: 60.375, gallons: 5511 },
{ depth: 60.500, gallons: 5525 },
{ depth: 60.625, gallons: 5538 },
{ depth: 60.750, gallons: 5551 },
{ depth: 60.875, gallons: 5564 },
{ depth: 61.000, gallons: 5578 },
{ depth: 61.125, gallons: 5591 },
{ depth: 61.250, gallons: 5604 },
{ depth: 61.375, gallons: 5617 },
{ depth: 61.500, gallons: 5630 },
{ depth: 61.625, gallons: 5644 },
{ depth: 61.750, gallons: 5657 },
{ depth: 61.875, gallons: 5670 },
{ depth: 62.000, gallons: 5683 },
{ depth: 62.125, gallons: 5696 },
{ depth: 62.250, gallons: 5709 },
{ depth: 62.375, gallons: 5722 },
{ depth: 62.500, gallons: 5735 },
{ depth: 62.625, gallons: 5749 },
{ depth: 62.750, gallons: 5762 },
{ depth: 62.875, gallons: 5775 },
{ depth: 63.000, gallons: 5788 },
{ depth: 63.125, gallons: 5801 },
{ depth: 63.250, gallons: 5814 },
{ depth: 63.375, gallons: 5827 },
{ depth: 63.500, gallons: 5840 },
{ depth: 63.625, gallons: 5853 },
{ depth: 63.750, gallons: 5866 },
{ depth: 63.875, gallons: 5879 },
{ depth: 64.000, gallons: 5892 },
{ depth: 64.125, gallons: 5905 },
{ depth: 64.250, gallons: 5918 },
{ depth: 64.375, gallons: 5930 },
{ depth: 64.500, gallons: 5943 },
{ depth: 64.625, gallons: 5956 },
{ depth: 64.750, gallons: 5969 },
{ depth: 64.875, gallons: 5982 },
{ depth: 65.000, gallons: 5995 },
{ depth: 65.125, gallons: 6008 },
{ depth: 65.250, gallons: 6020 },
{ depth: 65.375, gallons: 6033 },
{ depth: 65.500, gallons: 6046 },
{ depth: 65.625, gallons: 6059 },
{ depth: 65.750, gallons: 6072 },
{ depth: 65.875, gallons: 6084 },
{ depth: 66.000, gallons: 6097 },
{ depth: 66.125, gallons: 6110 },
{ depth: 66.250, gallons: 6122 },
{ depth: 66.375, gallons: 6135 },
{ depth: 66.500, gallons: 6148 },
{ depth: 66.625, gallons: 6160 },
{ depth: 66.750, gallons: 6173 },
{ depth: 66.875, gallons: 6186 },
{ depth: 67.000, gallons: 6198 },
{ depth: 67.125, gallons: 6211 },
{ depth: 67.250, gallons: 6224 },
{ depth: 67.375, gallons: 6236 },
{ depth: 67.500, gallons: 6249 },
{ depth: 67.625, gallons: 6261 },
{ depth: 67.750, gallons: 6274 },
{ depth: 67.875, gallons: 6286 },
{ depth: 68.000, gallons: 6299 },
{ depth: 68.125, gallons: 6311 },
{ depth: 68.250, gallons: 6324 },
{ depth: 68.375, gallons: 6336 },
{ depth: 68.500, gallons: 6348 },
{ depth: 68.625, gallons: 6360 },
{ depth: 68.750, gallons: 6373 },
{ depth: 68.875, gallons: 6386 },
{ depth: 69.000, gallons: 6398 },
{ depth: 69.125, gallons: 6410 },
{ depth: 69.250, gallons: 6423 },
{ depth: 69.375, gallons: 6435 },
{ depth: 69.500, gallons: 6447 },
{ depth: 69.625, gallons: 6459 },
{ depth: 69.750, gallons: 6472 },
{ depth: 69.875, gallons: 6484 },
{ depth: 70.000, gallons: 6496 },
{ depth: 70.125, gallons: 6508 },
{ depth: 70.250, gallons: 6521 },
{ depth: 70.375, gallons: 6533 },
{ depth: 70.500, gallons: 6545 },
{ depth: 70.625, gallons: 6557 },
{ depth: 70.750, gallons: 6569 },
{ depth: 70.875, gallons: 6581 },
{ depth: 71.000, gallons: 6593 },
{ depth: 71.125, gallons: 6605 },
{ depth: 71.250, gallons: 6617 },
{ depth: 71.375, gallons: 6629 },
{ depth: 71.500, gallons: 6641 },
{ depth: 71.625, gallons: 6653 },
{ depth: 71.750, gallons: 6665 },
{ depth: 71.875, gallons: 6677 },
{ depth: 72.000, gallons: 6689 },
{ depth: 72.125, gallons: 6701 },
{ depth: 72.250, gallons: 6713 },
{ depth: 72.375, gallons: 6724 },
{ depth: 72.500, gallons: 6736 },
{ depth: 72.625, gallons: 6748 },
{ depth: 72.750, gallons: 6760 },
{ depth: 72.875, gallons: 6772 },
{ depth: 73.000, gallons: 6783 },
{ depth: 73.125, gallons: 6795 },
{ depth: 73.250, gallons: 6807 },
{ depth: 73.375, gallons: 6818 },
{ depth: 73.500, gallons: 6830 },
{ depth: 73.625, gallons: 6842 },
{ depth: 73.750, gallons: 6853 },
{ depth: 73.875, gallons: 6865 },
{ depth: 74.000, gallons: 6876 },
{ depth: 74.125, gallons: 6888 },
{ depth: 74.250, gallons: 6899 },
{ depth: 74.375, gallons: 6911 },
{ depth: 74.500, gallons: 6922 },
{ depth: 74.625, gallons: 6934 },
{ depth: 74.750, gallons: 6945 },
{ depth: 74.875, gallons: 6956 },
{ depth: 75.000, gallons: 6968 },
{ depth: 75.125, gallons: 6979 },
{ depth: 75.250, gallons: 6990 },
{ depth: 75.375, gallons: 7002 },
{ depth: 75.500, gallons: 7013 },
{ depth: 75.625, gallons: 7024 },
{ depth: 75.750, gallons: 7035 },
{ depth: 75.875, gallons: 7047 },
{ depth: 76.000, gallons: 7058 },
{ depth: 76.125, gallons: 7069 },
{ depth: 76.250, gallons: 7080 },
{ depth: 76.375, gallons: 7091 },
{ depth: 76.500, gallons: 7102 },
{ depth: 76.625, gallons: 7113 },
{ depth: 76.750, gallons: 7124 },
{ depth: 76.875, gallons: 7135 },
{ depth: 77.000, gallons: 7146 },
{ depth: 77.125, gallons: 7157 },
{ depth: 77.250, gallons: 7168 },
{ depth: 77.375, gallons: 7179 },
{ depth: 77.500, gallons: 7190 },
{ depth: 77.625, gallons: 7200 },
{ depth: 77.750, gallons: 7211 },
{ depth: 77.875, gallons: 7222 },
{ depth: 78.000, gallons: 7233 },
{ depth: 78.125, gallons: 7243 },
{ depth: 78.250, gallons: 7254 },
{ depth: 78.375, gallons: 7265 },
{ depth: 78.500, gallons: 7275 },
{ depth: 78.625, gallons: 7286 },
{ depth: 78.750, gallons: 7296 },
{ depth: 78.875, gallons: 7307 },
{ depth: 79.000, gallons: 7318 },
{ depth: 79.125, gallons: 7328 },
{ depth: 79.250, gallons: 7338 },
{ depth: 79.375, gallons: 7349 },
{ depth: 79.500, gallons: 7359 },
{ depth: 79.625, gallons: 7370 },
{ depth: 79.750, gallons: 7380 },
{ depth: 79.875, gallons: 7390 },
{ depth: 80.000, gallons: 7400 },
{ depth: 80.125, gallons: 7411 },
{ depth: 80.250, gallons: 7421 },
{ depth: 80.375, gallons: 7431 },
{ depth: 80.500, gallons: 7441 },
{ depth: 80.625, gallons: 7451 },
{ depth: 80.750, gallons: 7461 },
{ depth: 80.875, gallons: 7471 },
{ depth: 81.000, gallons: 7481 },
{ depth: 81.125, gallons: 7491 },
{ depth: 81.250, gallons: 7501 },
{ depth: 81.375, gallons: 7511 },
{ depth: 81.500, gallons: 7521 },
{ depth: 81.625, gallons: 7531 },
{ depth: 81.750, gallons: 7540 },
{ depth: 81.875, gallons: 7550 },
{ depth: 82.000, gallons: 7560 },
{ depth: 82.125, gallons: 7569 },
{ depth: 82.250, gallons: 7579 },
{ depth: 82.375, gallons: 7589 },
{ depth: 82.500, gallons: 7598 },
{ depth: 82.625, gallons: 7608 },
{ depth: 82.750, gallons: 7617 },
{ depth: 82.875, gallons: 7627 },
{ depth: 83.000, gallons: 7636 },
{ depth: 83.125, gallons: 7645 },
{ depth: 83.250, gallons: 7655 },
{ depth: 83.375, gallons: 7664 },
{ depth: 83.500, gallons: 7673 },
{ depth: 83.625, gallons: 7682 },
{ depth: 83.750, gallons: 7692 },
{ depth: 83.875, gallons: 7701 },
{ depth: 84.000, gallons: 7710 },
{ depth: 84.125, gallons: 7719 },
{ depth: 84.250, gallons: 7728 },
{ depth: 84.375, gallons: 7737 },
{ depth: 84.500, gallons: 7746 },
{ depth: 84.625, gallons: 7755 },
{ depth: 84.750, gallons: 7764 },
{ depth: 84.875, gallons: 7772 },
{ depth: 85.000, gallons: 7781 },
{ depth: 85.125, gallons: 7790 },
{ depth: 85.250, gallons: 7799 },
{ depth: 85.375, gallons: 7807 },
{ depth: 85.500, gallons: 7816 },
{ depth: 85.625, gallons: 7824 },
{ depth: 85.750, gallons: 7833 },
{ depth: 85.875, gallons: 7841 },
{ depth: 86.000, gallons: 7850 },
{ depth: 86.125, gallons: 7858 },
{ depth: 86.250, gallons: 7866 },
{ depth: 86.375, gallons: 7875 },
{ depth: 86.500, gallons: 7883 },
{ depth: 86.625, gallons: 7891 },
{ depth: 86.750, gallons: 7899 },
{ depth: 86.875, gallons: 7907 },
{ depth: 87.000, gallons: 7915 },
{ depth: 87.125, gallons: 7923 },
{ depth: 87.250, gallons: 7931 },
{ depth: 87.375, gallons: 7939 },
{ depth: 87.500, gallons: 7947 },
{ depth: 87.625, gallons: 7955 },
{ depth: 87.750, gallons: 7962 },
{ depth: 87.875, gallons: 7970 },
{ depth: 88.000, gallons: 7978 },
{ depth: 88.125, gallons: 7985 },
{ depth: 88.250, gallons: 7993 },
{ depth: 88.375, gallons: 8000 },
{ depth: 88.500, gallons: 8007 },
{ depth: 88.625, gallons: 8015 },
{ depth: 88.750, gallons: 8022 },
{ depth: 88.875, gallons: 8029 },
{ depth: 89.000, gallons: 8036 },
{ depth: 89.125, gallons: 8044 },
{ depth: 89.250, gallons: 8051 },
{ depth: 89.375, gallons: 8058 },
{ depth: 89.500, gallons: 8065 },
{ depth: 89.625, gallons: 8071 },
{ depth: 89.750, gallons: 8078 },
{ depth: 89.875, gallons: 8085 },
{ depth: 90.000, gallons: 8092 },
{ depth: 90.125, gallons: 8098 },
{ depth: 90.250, gallons: 8105 },
{ depth: 90.375, gallons: 8111 },
{ depth: 90.500, gallons: 8118 },
{ depth: 90.625, gallons: 8124 },
{ depth: 90.750, gallons: 8130 },
{ depth: 90.875, gallons: 8136 },
{ depth: 91.000, gallons: 8143 },
{ depth: 91.125, gallons: 8149 },
{ depth: 91.250, gallons: 8155 },
  { depth: 91.375, gallons: 8161 },
  { depth: 91.500, gallons: 8166 },
  { depth: 91.625, gallons: 8172 },
  { depth: 91.750, gallons: 8178 },
  { depth: 91.875, gallons: 8183 },
  { depth: 92.000, gallons: 8189 },
  { depth: 92.125, gallons: 8194 },
  { depth: 92.250, gallons: 8200 },
  { depth: 92.375, gallons: 8205 },
  { depth: 92.500, gallons: 8210 },
  { depth: 92.625, gallons: 8215 },
  { depth: 92.750, gallons: 8220 },
  { depth: 92.875, gallons: 8225 },
  { depth: 93.000, gallons: 8230 },
  { depth: 93.125, gallons: 8235 },
  { depth: 93.250, gallons: 8239 },
  { depth: 93.375, gallons: 8244 },
  { depth: 93.500, gallons: 8248 },
  { depth: 93.625, gallons: 8253 },
  { depth: 93.750, gallons: 8257 },
  { depth: 93.875, gallons: 8261 },
  { depth: 94.000, gallons: 8265 },
  { depth: 94.125, gallons: 8269 },
  { depth: 94.250, gallons: 8273 },
  { depth: 94.375, gallons: 8276 },
  { depth: 94.500, gallons: 8280 },
  { depth: 94.625, gallons: 8283 },
  { depth: 94.750, gallons: 8286 },
  { depth: 94.875, gallons: 8289 },
  { depth: 95.000, gallons: 8292 },
  { depth: 95.125, gallons: 8295 },
  { depth: 95.250, gallons: 8297 },
  { depth: 95.375, gallons: 8300 },
  { depth: 95.500, gallons: 8302 },
  { depth: 95.625, gallons: 8304 },
  { depth: 95.750, gallons: 8305 },
  { depth: 95.875, gallons: 8306 },
  { depth: 96.000, gallons: 8307 }
],
  
  // 6000 gal cistern (standard: 6000, max: 6094)
  6000: [
    { depth: 0.000, gallons: 0 },
    { depth: 0.125, gallons: 3 },
    { depth: 0.250, gallons: 4 },
    { depth: 0.375, gallons: 5 },
    { depth: 0.500, gallons: 7 },
    { depth: 0.625, gallons: 9 },
    { depth: 0.750, gallons: 11 },
    { depth: 0.875, gallons: 13 },
    { depth: 1.000, gallons: 15 },
    { depth: 2.000, gallons: 35 },
    { depth: 4.000, gallons: 80 },
    { depth: 8.000, gallons: 170 },
    { depth: 12.000, gallons: 265 },
    { depth: 24.000, gallons: 550 },
    { depth: 36.000, gallons: 900 },
    { depth: 48.000, gallons: 1350 },
    { depth: 60.000, gallons: 1900 },
    { depth: 72.000, gallons: 2600 },
    { depth: 84.000, gallons: 3500 },
    { depth: 90.000, gallons: 4200 },
    { depth: 93.000, gallons: 5000 },
    { depth: 95.000, gallons: 5600 },
    { depth: 95.500, gallons: 5850 },
    { depth: 95.750, gallons: 6094 }
  ],
  
  // 4000 gal cistern (standard: 4000, max: 4100)
  4000: [
    { depth: 0.000, gallons: 0 },
    { depth: 0.125, gallons: 2 },
    { depth: 0.250, gallons: 3 },
    { depth: 0.375, gallons: 4 },
    { depth: 0.500, gallons: 5 },
    { depth: 0.625, gallons: 7 },
    { depth: 0.750, gallons: 9 },
    { depth: 0.875, gallons: 11 },
    { depth: 1.000, gallons: 13 },
    { depth: 2.000, gallons: 30 },
    { depth: 4.000, gallons: 65 },
    { depth: 8.000, gallons: 140 },
    { depth: 12.000, gallons: 220 },
    { depth: 24.000, gallons: 450 },
    { depth: 36.000, gallons: 750 },
    { depth: 48.000, gallons: 1150 },
    { depth: 60.000, gallons: 1650 },
    { depth: 72.000, gallons: 2300 },
    { depth: 80.000, gallons: 2800 },
    { depth: 85.000, gallons: 3200 },
    { depth: 88.000, gallons: 3550 },
    { depth: 90.000, gallons: 3800 },
    { depth: 91.000, gallons: 3950 },
    { depth: 91.250, gallons: 4100 }
  ]
};

// Function to convert depth to gallons with linear interpolation
export function depthToGallons(cisternType, depth) {
  const calibration = cisternCalibration[cisternType];
  if (!calibration || depth === null || depth === undefined || isNaN(depth)) {
    return 0;
  }
  
  depth = parseFloat(depth);
  
  // Sort calibration points by depth
  const sortedPoints = [...calibration].sort((a, b) => a.depth - b.depth);
  
  // Check if depth is below minimum
  if (depth <= sortedPoints[0].depth) {
    return sortedPoints[0].gallons;
  }
  
  // Check if depth is above maximum
  if (depth >= sortedPoints[sortedPoints.length - 1].depth) {
    return sortedPoints[sortedPoints.length - 1].gallons;
  }
  
  // Find the two points to interpolate between
  for (let i = 0; i < sortedPoints.length - 1; i++) {
    const current = sortedPoints[i];
    const next = sortedPoints[i + 1];
    
    if (depth >= current.depth && depth <= next.depth) {
      // Linear interpolation
      const depthRatio = (depth - current.depth) / (next.depth - current.depth);
      return Math.round(current.gallons + depthRatio * (next.gallons - current.gallons));
    }
  }
  
  // Fallback: return last point
  return sortedPoints[sortedPoints.length - 1].gallons;
}

// Function to convert gallons to approximate depth (reverse lookup)
export function gallonsToDepth(cisternType, gallons) {
  const calibration = cisternCalibration[cisternType];
  if (!calibration || gallons === null || gallons === undefined || isNaN(gallons)) {
    return 0;
  }
  
  gallons = parseFloat(gallons);
  
  // Sort calibration points by gallons
  const sortedPoints = [...calibration].sort((a, b) => a.gallons - b.gallons);
  
  // Check if gallons is below minimum
  if (gallons <= sortedPoints[0].gallons) {
    return sortedPoints[0].depth;
  }
  
  // Check if gallons is above maximum
  if (gallons >= sortedPoints[sortedPoints.length - 1].gallons) {
    return sortedPoints[sortedPoints.length - 1].depth;
  }
  
  // Find the two points to interpolate between
  for (let i = 0; i < sortedPoints.length - 1; i++) {
    const current = sortedPoints[i];
    const next = sortedPoints[i + 1];
    
    if (gallons >= current.gallons && gallons <= next.gallons) {
      // Linear interpolation
      const gallonRatio = (gallons - current.gallons) / (next.gallons - current.gallons);
      return parseFloat((current.depth + gallonRatio * (next.depth - current.depth)).toFixed(3));
    }
  }
  
  // Fallback: return last point
  return sortedPoints[sortedPoints.length - 1].depth;
}

// Get maximum depth for a cistern type
export function getMaxDepth(cisternType) {
  const calibration = cisternCalibration[cisternType];
  if (!calibration) return 0;
  
  const maxPoint = calibration.reduce((max, point) => 
    point.depth > max.depth ? point : max
  );
  return maxPoint.depth;
}

// Get maximum gallons for a cistern type
export function getMaxGallons(cisternType) {
  const calibration = cisternCalibration[cisternType];
  if (!calibration) return 0;
  
  const maxPoint = calibration.reduce((max, point) => 
    point.gallons > max.gallons ? point : max
  );
  return maxPoint.gallons;
}

// Get standard capacity (nominal capacity)
export function getStandardCapacity(cisternType) {
  const standards = {
    8000: 8000,
    6000: 6000,
    4000: 4000
  };
  return standards[cisternType] || 0;
}